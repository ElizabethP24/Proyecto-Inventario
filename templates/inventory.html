<!DOCTYPE html>
<html lang="es">
<head>
	{% include 'base.html' %}
</head>
<body>
	<!-- pageContent -->
	<section class="full-width pageContent">
		<!-- navBar -->
		<div class="full-width navBar">
			<div class="full-width navBar-options">
				<i class="zmdi zmdi-swap btn-menu" id="btn-menu"></i>	
				<div class="mdl-tooltip" for="btn-menu">Ocultar / Mostrar MENU</div>
				<nav class="navBar-options-list">
					<ul class="list-unstyle">
						<li class="btn-Notification" id="notifications">
							<i class="zmdi zmdi-notifications"></i>
							<div class="mdl-tooltip" for="notifications">Notificaciones</div>
						</li>
						<li class="btn-exit" id="btn-exit">
							<i class="zmdi zmdi-power"></i>
							<div class="mdl-tooltip" for="btn-exit">Cerrar Sesión </div>
						</li>
						<li class="text-condensedLight noLink" ><small>Usuario</small></li>
						<li class="noLink">
							<figure>
								<img src="/static/assets/img/avatar1.png" alt="Avatar" class="img-responsive">
							</figure>
						</li>
					</ul>
				</nav>
			</div>
		</div>
		<section class="full-width header-well">
			<div class="full-width header-well-icon">
				<i class="zmdi zmdi-store"></i>
			</div>
			<div class="full-width header-well-text">
				<p class="text-condensedLight">
					Inventario de Productos "Huella de Amor"
				</p>
			</div>
		</section>
		<div class="full-width divider-menu-h"></div>
		<div class="mdl-grid">
			<div class="mdl-cell mdl-cell--4-col-phone mdl-cell--8-col-tablet mdl-cell--12-col-desktop">
				<div class="table-responsive">
					<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp full-width table-responsive">
						<thead>
							<tr>
								<th class="mdl-data-table__cell--non-numeric">Código Producto</th>
								<th>Nombre</th>
								<th>Existencias</th>
								<th>Precio</th>
								<th>Categoría</th>
								<th>Estado</th>
								<th>Opciones</th>
							</tr>
						</thead>
						<tbody>
							{% if inventario %}
								{% for producto in inventario %}
								<tr>
									<td class="mdl-data-table__cell--non-numeric">{{ producto[0] }}</td>
									<td>{{ producto[1] }}</td>
									<td>{{ producto[2] }} unidades</td>
									<td>${{ producto[3] }}</td>
									<td>{{ producto[4] }}</td>
									<td>{{ producto[9] }}</td>
									<td>
										<a class="mdl-list__item-secondary-action" href="#!" onclick="toggleOptions(this)">
											<i class="zmdi zmdi-more"></i>
										</a>
										<!-- Contenedor para las opciones de editar y eliminar -->
										<div class="options-container" style="display: none;">
											<a href="{{ url_for('editar_producto', idproducto=producto[0]) }}">Editar</a>
											<a href="{{ url_for('eliminar_producto', idproducto=producto[0]) }}">Eliminar</a>
										</div>	
									</td>
								</tr>
								{% endfor %}
							{% else %}
								<tr>
									<td colspan="7" class="mdl-data-table__cell--non-numeric">No hay productos disponibles.</td>
								</tr>
							{% endif %}
						</tbody>
					</table>
				</div>
				
				</div>
			</div>
		</div>
	</section>
	<script>
		function toggleOptions(element, index) {
			var optionsContainer = element.parentNode.querySelector('.options-container');
			optionsContainer.style.display = 'block';
		}
	</script>
</body>
</html>